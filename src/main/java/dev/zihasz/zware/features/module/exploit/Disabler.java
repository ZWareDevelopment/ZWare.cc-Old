package dev.zihasz.zware.features.module.exploit;

import dev.zihasz.zware.features.module.Category;
import dev.zihasz.zware.features.module.Module;
import net.minecraft.inventory.ClickType;
import net.minecraft.item.ItemStack;
import net.minecraft.network.play.client.CPacketClickWindow;
import net.minecraft.network.play.client.CPacketConfirmTransaction;

public class Disabler extends Module {

	public Disabler() {
		super("Disabler", "anticheat :cold:", Category.EXPLOITS);
	}

	@Override
	public void onUpdate() {
		CPacketClickWindow window = new CPacketClickWindow(
				-1,
				45,
				0,
				ClickType.CLONE,
				ItemStack.EMPTY,
				(short) -1
		);
		CPacketConfirmTransaction transaction = new CPacketConfirmTransaction(-1, (short) -1, true);

		new Thread(() -> {
			try {
				mc.player.connection.sendPacket(window);
				Thread.sleep(20);
				mc.player.connection.sendPacket(transaction);
			} catch (Exception ignored) {}
		});
	}
}
